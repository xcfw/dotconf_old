'use babel';

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }

var _require = require("./async-spec-helpers");

var it = _require.it;
var fit = _require.fit;
var ffit = _require.ffit;
var fffit = _require.fffit;
var emitterEventPromise = _require.emitterEventPromise;
var beforeEach = _require.beforeEach;
var afterEach = _require.afterEach;
// eslint-disable-line

function dispatchCommand(commandName) {
  atom.commands.dispatch(atom.workspace.getElement(), commandName);
}

function ensurePaneLayout(layout) {
  var root = atom.workspace.getActivePane().getContainer().getRoot();
  expect(paneLayoutFor(root)).toEqual(layout);
}

function paneLayoutFor(root) {
  var layout = {};
  layout[root.getOrientation()] = root.getChildren().map(function (child) {
    switch (child.constructor.name) {
      case 'Pane':
        return child.getItems();
      case 'PaneAxis':
        return paneLayoutFor(child);
    }
  });
  return layout;
}

describe('pane manipulation commands', function () {
  beforeEach(function () {
    // `destroyEmptyPanes` is default true, but atom's spec-helper reset to `false`
    // So set it to `true` again here to test with default value.
    atom.config.set('core.destroyEmptyPanes', true);
    jasmine.attachToDOM(atom.workspace.getElement());

    return atom.packages.activatePackage('vim-mode-plus');
  });

  describe('moveToVery direction', function () {
    describe('all horizontal', function () {
      var e1 = undefined,
          e2 = undefined,
          e3 = undefined,
          p1 = undefined,
          p2 = undefined,
          p3 = undefined;
      beforeEach(_asyncToGenerator(function* () {
        e1 = yield atom.workspace.open('file1');
        e2 = yield atom.workspace.open('file2', { split: 'right' });
        e3 = yield atom.workspace.open('file3', { split: 'right' });
        var panes = atom.workspace.getCenter().getPanes();
        expect(panes).toHaveLength(3);
        var _panes = _slicedToArray(panes, 3);

        p1 = _panes[0];
        p2 = _panes[1];
        p3 = _panes[2];

        ensurePaneLayout({ horizontal: [[e1], [e2], [e3]] });
        expect(atom.workspace.getActivePane()).toBe(p3);
      }));

      describe('very-top', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-top');
          ensurePaneLayout({ vertical: [[e1], { horizontal: [[e2], [e3]] }] });
        });
        it('case 2', function () {
          p2.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-top');
          ensurePaneLayout({ vertical: [[e2], { horizontal: [[e1], [e3]] }] });
        });
        it('case 3', function () {
          p3.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-top');
          ensurePaneLayout({ vertical: [[e3], { horizontal: [[e1], [e2]] }] });
        });
      });

      describe('very-bottom', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-bottom');
          ensurePaneLayout({ vertical: [{ horizontal: [[e2], [e3]] }, [e1]] });
        });
        it('case 2', function () {
          p2.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-bottom');
          ensurePaneLayout({ vertical: [{ horizontal: [[e1], [e3]] }, [e2]] });
        });
        it('case 3', function () {
          p3.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-bottom');
          ensurePaneLayout({ vertical: [{ horizontal: [[e1], [e2]] }, [e3]] });
        });
      });

      describe('very-left', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-left');
          ensurePaneLayout({ horizontal: [[e1], [e2], [e3]] });
        });
        it('case 2', function () {
          p2.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-left');
          ensurePaneLayout({ horizontal: [[e2], [e1], [e3]] });
        });
        it('case 3', function () {
          p3.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-left');
          ensurePaneLayout({ horizontal: [[e3], [e1], [e2]] });
        });
      });

      describe('very-right', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-right');
          ensurePaneLayout({ horizontal: [[e2], [e3], [e1]] });
        });
        it('case 2', function () {
          p2.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-right');
          ensurePaneLayout({ horizontal: [[e1], [e3], [e2]] });
        });
        it('case 3', function () {
          p3.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-right');
          ensurePaneLayout({ horizontal: [[e1], [e2], [e3]] });
        });
      });

      describe('complex operation', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-top');
          ensurePaneLayout({ vertical: [[e1], { horizontal: [[e2], [e3]] }] });
          dispatchCommand('vim-mode-plus:move-pane-to-very-left');
          ensurePaneLayout({ horizontal: [[e1], [e2], [e3]] });
          dispatchCommand('vim-mode-plus:move-pane-to-very-bottom');
          ensurePaneLayout({ vertical: [{ horizontal: [[e2], [e3]] }, [e1]] });
          dispatchCommand('vim-mode-plus:move-pane-to-very-right');
          ensurePaneLayout({ horizontal: [[e2], [e3], [e1]] });
        });
      });
    });

    describe('all vertical', function () {
      var e1 = undefined,
          e2 = undefined,
          e3 = undefined,
          p1 = undefined,
          p2 = undefined,
          p3 = undefined;
      beforeEach(_asyncToGenerator(function* () {
        e1 = yield atom.workspace.open('file1');
        e2 = yield atom.workspace.open('file2', { split: 'down' });
        e3 = yield atom.workspace.open('file3', { split: 'down' });
        var panes = atom.workspace.getCenter().getPanes();
        expect(panes).toHaveLength(3);
        var _panes2 = _slicedToArray(panes, 3);

        p1 = _panes2[0];
        p2 = _panes2[1];
        p3 = _panes2[2];

        ensurePaneLayout({ vertical: [[e1], [e2], [e3]] });
        expect(atom.workspace.getActivePane()).toBe(p3);
      }));

      describe('very-top', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-top');
          ensurePaneLayout({ vertical: [[e1], [e2], [e3]] });
        });
        it('case 2', function () {
          p2.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-top');
          ensurePaneLayout({ vertical: [[e2], [e1], [e3]] });
        });
        it('case 3', function () {
          p3.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-top');
          ensurePaneLayout({ vertical: [[e3], [e1], [e2]] });
        });
      });

      describe('very-bottom', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-bottom');
          ensurePaneLayout({ vertical: [[e2], [e3], [e1]] });
        });
        it('case 2', function () {
          p2.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-bottom');
          ensurePaneLayout({ vertical: [[e1], [e3], [e2]] });
        });
        it('case 3', function () {
          p3.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-bottom');
          ensurePaneLayout({ vertical: [[e1], [e2], [e3]] });
        });
      });

      describe('very-left', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-left');
          ensurePaneLayout({ horizontal: [[e1], { vertical: [[e2], [e3]] }] });
        });
        it('case 2', function () {
          p2.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-left');
          ensurePaneLayout({ horizontal: [[e2], { vertical: [[e1], [e3]] }] });
        });
        it('case 3', function () {
          p3.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-left');
          ensurePaneLayout({ horizontal: [[e3], { vertical: [[e1], [e2]] }] });
        });
      });

      describe('very-right', function () {
        it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-right');
          ensurePaneLayout({ horizontal: [{ vertical: [[e2], [e3]] }, [e1]] });
        });
        it('case 2', function () {
          p2.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-right');
          ensurePaneLayout({ horizontal: [{ vertical: [[e1], [e3]] }, [e2]] });
        });
        it('case 3', function () {
          p3.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-right');
          ensurePaneLayout({ horizontal: [{ vertical: [[e1], [e2]] }, [e3]] });
        });
      });

      describe('complex operation', function () {
        return it('case 1', function () {
          p1.activate();
          dispatchCommand('vim-mode-plus:move-pane-to-very-top');
          ensurePaneLayout({ vertical: [[e1], [e2], [e3]] });
          dispatchCommand('vim-mode-plus:move-pane-to-very-left');
          ensurePaneLayout({ horizontal: [[e1], { vertical: [[e2], [e3]] }] });
          dispatchCommand('vim-mode-plus:move-pane-to-very-bottom');
          ensurePaneLayout({ vertical: [[e2], [e3], [e1]] });
          dispatchCommand('vim-mode-plus:move-pane-to-very-right');
          ensurePaneLayout({ horizontal: [{ vertical: [[e2], [e3]] }, [e1]] });
        });
      });
    });
  });

  describe('exchange-pane', function () {
    var p1 = undefined,
        p2 = undefined,
        p3 = undefined,
        items = undefined;
    beforeEach(_asyncToGenerator(function* () {
      var e1 = yield atom.workspace.open('file1');
      var e2 = yield atom.workspace.open('file2', { split: 'right' });
      var e3 = yield atom.workspace.open('file3');
      var e4 = yield atom.workspace.open('file4', { split: 'down' });
      var panes = atom.workspace.getCenter().getPanes();
      expect(panes).toHaveLength(3);
      var _panes3 = _slicedToArray(panes, 3);

      p1 = _panes3[0];
      p2 = _panes3[1];
      p3 = _panes3[2];

      items = {
        p1: p1.getItems(),
        p2: p2.getItems(),
        p3: p3.getItems()
      };
      expect(items).toEqual({
        p1: [e1],
        p2: [e2, e3],
        p3: [e4]
      });

      ensurePaneLayout({ horizontal: [items.p1, { vertical: [items.p2, items.p3] }] });
      expect(atom.workspace.getActivePane()).toBe(p3);
    }));

    it('[adjacent is pane]: exchange pane and and stay active pane', function () {
      dispatchCommand('vim-mode-plus:exchange-pane');
      ensurePaneLayout({ horizontal: [items.p1, { vertical: [items.p3, items.p2] }] });
      expect(atom.workspace.getActivePane()).toBe(p2);

      dispatchCommand('vim-mode-plus:exchange-pane');
      ensurePaneLayout({ horizontal: [items.p1, { vertical: [items.p2, items.p3] }] });
      expect(atom.workspace.getActivePane()).toBe(p3);
    });

    it('[adjacent is paneAxis]: Do nothing when adjacent was paneAxis', function () {
      p1.activate();
      dispatchCommand('vim-mode-plus:exchange-pane');
      ensurePaneLayout({ horizontal: [items.p1, { vertical: [items.p2, items.p3] }] });
      expect(atom.workspace.getActivePane()).toBe(p1);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3hjZi8uYXRvbS9wYWNrYWdlcy92aW0tbW9kZS1wbHVzL3NwZWMvcGFuZS11dGlscy1zcGVjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVcsQ0FBQTs7Ozs7O2VBRWdFLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQzs7SUFBbkcsRUFBRSxZQUFGLEVBQUU7SUFBRSxHQUFHLFlBQUgsR0FBRztJQUFFLElBQUksWUFBSixJQUFJO0lBQUUsS0FBSyxZQUFMLEtBQUs7SUFBRSxtQkFBbUIsWUFBbkIsbUJBQW1CO0lBQUUsVUFBVSxZQUFWLFVBQVU7SUFBRSxTQUFTLFlBQVQsU0FBUzs7O0FBRXZFLFNBQVMsZUFBZSxDQUFFLFdBQVcsRUFBRTtBQUNyQyxNQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxFQUFFLFdBQVcsQ0FBQyxDQUFBO0NBQ2pFOztBQUVELFNBQVMsZ0JBQWdCLENBQUUsTUFBTSxFQUFFO0FBQ2pDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQ3hCLGFBQWEsRUFBRSxDQUNmLFlBQVksRUFBRSxDQUNkLE9BQU8sRUFBRSxDQUFBO0FBQ1osUUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtDQUM1Qzs7QUFFRCxTQUFTLGFBQWEsQ0FBRSxJQUFJLEVBQUU7QUFDNUIsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFBO0FBQ2pCLFFBQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLFVBQUEsS0FBSyxFQUFJO0FBQzlELFlBQVEsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJO0FBQzVCLFdBQUssTUFBTTtBQUNULGVBQU8sS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFBO0FBQUEsQUFDekIsV0FBSyxVQUFVO0FBQ2Is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QTtHQUNILENBQUMsQ0FBQTtDQUNILENBQUMsQ0FBQSIsImZpbGUiOiIvaG9tZS94Y2YvLmF0b20vcGFja2FnZXMvdmltLW1vZGUtcGx1cy9zcGVjL3BhbmUtdXRpbHMtc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnXG5cbmNvbnN0IHtpdCwgZml0LCBmZml0LCBmZmZpdCwgZW1pdHRlckV2ZW50UHJvbWlzZSwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNofSA9IHJlcXVpcmUoXCIuL2FzeW5jLXNwZWMtaGVscGVyc1wiKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbmZ1bmN0aW9uIGRpc3BhdGNoQ29tbWFuZCAoY29tbWFuZE5hbWUpIHtcbiAgYXRvbS5jb21tYW5kcy5kaXNwYXRjaChhdG9tLndvcmtzcGFjZS5nZXRFbGVtZW50KCksIGNvbW1hbmROYW1lKVxufVxuXG5mdW5jdGlvbiBlbnN1cmVQYW5lTGF5b3V0IChsYXlvdXQpIHtcbiAgY29uc3Qgcm9vdCA9IGF0b20ud29ya3NwYWNlXG4gICAgLmdldEFjdGl2ZVBhbmUoKVxuICAgIC5nZXRDb250YWluZXIoKVxuICAgIC5nZXRSb290KClcbiAgZXhwZWN0KHBhbmVMYXlvdXRGb3Iocm9vdCkpLnRvRXF1YWwobGF5b3V0KVxufVxuXG5mdW5jdGlvbiBwYW5lTGF5b3V0Rm9yIChyb290KSB7XG4gIGNvbnN0IGxheW91dCA9IHt9XG4gIGxheW91dFtyb290LmdldE9yaWVudGF0aW9uKCldID0gcm9vdC5nZXRDaGlsZHJlbigpLm1hcChjaGlsZCA9PiB7XG4gICAgc3dpdGNoIChjaGlsZC5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICBjYXNlICdQYW5lJzpcbiAgICAgICAgcmV0dXJuIGNoaWxkLmdldEl0ZW1zKClcbiAgICAgIGNhc2UgJ1BhbmVBeGlzJzpcbiAgICAgICAgcmV0dXJuIHBhbmVMYXlvdXRGb3IoY2hpbGQpXG4gICAgfVxuICB9KVxuICByZXR1cm4gbGF5b3V0XG59XG5cbmRlc2NyaWJlKCdwYW5lIG1hbmlwdWxhdGlvbiBjb21tYW5kcycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gYGRlc3Ryb3lFbXB0eVBhbmVzYCBpcyBkZWZhdWx0IHRydWUsIGJ1dCBhdG9tJ3Mgc3BlYy1oZWxwZXIgcmVzZXQgdG8gYGZhbHNlYFxuICAgIC8vIFNvIHNldCBpdCB0byBgdHJ1ZWAgYWdhaW4gaGVyZSB0byB0ZXN0IHdpdGggZGVmYXVsdCB2YWx1ZS5cbiAgICBhdG9tLmNvbmZpZy5zZXQoJ2NvcmUuZGVzdHJveUVtcHR5UGFuZXMnLCB0cnVlKVxuICAgIGphc21pbmUuYXR0YWNoVG9ET00oYXRvbS53b3Jrc3BhY2UuZ2V0RWxlbWVudCgpKVxuXG4gICAgcmV0dXJuIGF0b20ucGFja2FnZXMuYWN0aXZhdGVQYWNrYWdlKCd2aW0tbW9kZS1wbHVzJylcbiAgfSlcblxuICBkZXNjcmliZSgnbW92ZVRvVmVyeSBkaXJlY3Rpb24nLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ2FsbCBob3Jpem9udGFsJywgKCkgPT4ge1xuICAgICAgbGV0IGUxLCBlMiwgZTMsIHAxLCBwMiwgcDNcbiAgICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgICBlMSA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4oJ2ZpbGUxJylcbiAgICAgICAgZTIgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKCdmaWxlMicsIHtzcGxpdDogJ3JpZ2h0J30pXG4gICAgICAgIGUzID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbignZmlsZTMnLCB7c3BsaXQ6ICdyaWdodCd9KVxuICAgICAgICBjb25zdCBwYW5lcyA9IGF0b20ud29ya3NwYWNlLmdldENlbnRlcigpLmdldFBhbmVzKClcbiAgICAgICAgZXhwZWN0KHBhbmVzKS50b0hhdmVMZW5ndGgoMylcbiAgICAgICAgO1twMSwgcDIsIHAzXSA9IHBhbmVzXG4gICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgIGV4cGVjdChhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVQYW5lKCkpLnRvQmUocDMpXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZSgndmVyeS10b3AnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdjYXNlIDEnLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS10b3AnKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UxXSwge2hvcml6b250YWw6IFtbZTJdLCBbZTNdXX1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ2Nhc2UgMicsICgpID0+IHtcbiAgICAgICAgICBwMi5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXRvcCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTJdLCB7aG9yaXpvbnRhbDogW1tlMV0sIFtlM11dfV19KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnY2FzZSAzJywgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktdG9wJylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW1tlM10sIHtob3Jpem9udGFsOiBbW2UxXSwgW2UyXV19XX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZSgndmVyeS1ib3R0b20nLCAoKSA9PiB7XG4gICAgICAgIGl0KCdjYXNlIDEnLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1ib3R0b20nKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbe2hvcml6b250YWw6IFtbZTJdLCBbZTNdXX0sIFtlMV1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ2Nhc2UgMicsICgpID0+IHtcbiAgICAgICAgICBwMi5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LWJvdHRvbScpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFt7aG9yaXpvbnRhbDogW1tlMV0sIFtlM11dfSwgW2UyXV19KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnY2FzZSAzJywgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktYm90dG9tJylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW3tob3Jpem9udGFsOiBbW2UxXSwgW2UyXV19LCBbZTNdXX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZSgndmVyeS1sZWZ0JywgKCkgPT4ge1xuICAgICAgICBpdCgnY2FzZSAxJywgKCkgPT4ge1xuICAgICAgICAgIHAxLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMV0sIFtlMl0sIFtlM11dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ2Nhc2UgMicsICgpID0+IHtcbiAgICAgICAgICBwMi5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LWxlZnQnKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtbZTJdLCBbZTFdLCBbZTNdXX0pXG4gICAgICAgIH0pXG4gICAgICAgIGl0KCdjYXNlIDMnLCAoKSA9PiB7XG4gICAgICAgICAgcDMuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1sZWZ0JylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHtob3Jpem9udGFsOiBbW2UzXSwgW2UxXSwgW2UyXV19KVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgZGVzY3JpYmUoJ3ZlcnktcmlnaHQnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdjYXNlIDEnLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1yaWdodCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMl0sIFtlM10sIFtlMV1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ2Nhc2UgMicsICgpID0+IHtcbiAgICAgICAgICBwMi5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXJpZ2h0JylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHtob3Jpem9udGFsOiBbW2UxXSwgW2UzXSwgW2UyXV19KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnY2FzZSAzJywgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktcmlnaHQnKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZSgnY29tcGxleCBvcGVyYXRpb24nLCAoKSA9PiB7XG4gICAgICAgIGl0KCdjYXNlIDEnLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS10b3AnKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UxXSwge2hvcml6b250YWw6IFtbZTJdLCBbZTNdXX1dfSlcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMV0sIFtlMl0sIFtlM11dfSlcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktYm90dG9tJylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW3tob3Jpem9udGFsOiBbW2UyXSwgW2UzXV19LCBbZTFdXX0pXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXJpZ2h0JylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHtob3Jpem9udGFsOiBbW2UyXSwgW2UzXSwgW2UxXV19KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ2FsbCB2ZXJ0aWNhbCcsICgpID0+IHtcbiAgICAgIGxldCBlMSwgZTIsIGUzLCBwMSwgcDIsIHAzXG4gICAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgZTEgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKCdmaWxlMScpXG4gICAgICAgIGUyID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbignZmlsZTInLCB7c3BsaXQ6ICdkb3duJ30pXG4gICAgICAgIGUzID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbignZmlsZTMnLCB7c3BsaXQ6ICdkb3duJ30pXG4gICAgICAgIGNvbnN0IHBhbmVzID0gYXRvbS53b3Jrc3BhY2UuZ2V0Q2VudGVyKCkuZ2V0UGFuZXMoKVxuICAgICAgICBleHBlY3QocGFuZXMpLnRvSGF2ZUxlbmd0aCgzKVxuICAgICAgICA7W3AxLCBwMiwgcDNdID0gcGFuZXNcbiAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgIGV4cGVjdChhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVQYW5lKCkpLnRvQmUocDMpXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZSgndmVyeS10b3AnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdjYXNlIDEnLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS10b3AnKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UxXSwgW2UyXSwgW2UzXV19KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnY2FzZSAyJywgKCkgPT4ge1xuICAgICAgICAgIHAyLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktdG9wJylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW1tlMl0sIFtlMV0sIFtlM11dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ2Nhc2UgMycsICgpID0+IHtcbiAgICAgICAgICBwMy5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXRvcCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTNdLCBbZTFdLCBbZTJdXX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZSgndmVyeS1ib3R0b20nLCAoKSA9PiB7XG4gICAgICAgIGl0KCdjYXNlIDEnLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1ib3R0b20nKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UyXSwgW2UzXSwgW2UxXV19KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnY2FzZSAyJywgKCkgPT4ge1xuICAgICAgICAgIHAyLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktYm90dG9tJylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW1tlMV0sIFtlM10sIFtlMl1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ2Nhc2UgMycsICgpID0+IHtcbiAgICAgICAgICBwMy5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LWJvdHRvbScpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZSgndmVyeS1sZWZ0JywgKCkgPT4ge1xuICAgICAgICBpdCgnY2FzZSAxJywgKCkgPT4ge1xuICAgICAgICAgIHAxLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMV0sIHt2ZXJ0aWNhbDogW1tlMl0sIFtlM11dfV19KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnY2FzZSAyJywgKCkgPT4ge1xuICAgICAgICAgIHAyLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMl0sIHt2ZXJ0aWNhbDogW1tlMV0sIFtlM11dfV19KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnY2FzZSAzJywgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlM10sIHt2ZXJ0aWNhbDogW1tlMV0sIFtlMl1dfV19KVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgZGVzY3JpYmUoJ3ZlcnktcmlnaHQnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdjYXNlIDEnLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1yaWdodCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW3t2ZXJ0aWNhbDogW1tlMl0sIFtlM11dfSwgW2UxXV19KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnY2FzZSAyJywgKCkgPT4ge1xuICAgICAgICAgIHAyLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktcmlnaHQnKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFt7dmVydGljYWw6IFtbZTFdLCBbZTNdXX0sIFtlMl1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ2Nhc2UgMycsICgpID0+IHtcbiAgICAgICAgICBwMy5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXJpZ2h0JylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHtob3Jpem9udGFsOiBbe3ZlcnRpY2FsOiBbW2UxXSwgW2UyXV19LCBbZTNdXX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZSgnY29tcGxleCBvcGVyYXRpb24nLCAoKSA9PlxuICAgICAgICBpdCgnY2FzZSAxJywgKCkgPT4ge1xuICAgICAgICAgIHAxLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktdG9wJylcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW1tlMV0sIFtlMl0sIFtlM11dfSlcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoJ3ZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMV0sIHt2ZXJ0aWNhbDogW1tlMl0sIFtlM11dfV19KVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1ib3R0b20nKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UyXSwgW2UzXSwgW2UxXV19KVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1yaWdodCcpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW3t2ZXJ0aWNhbDogW1tlMl0sIFtlM11dfSwgW2UxXV19KVxuICAgICAgICB9KSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdleGNoYW5nZS1wYW5lJywgKCkgPT4ge1xuICAgIGxldCBwMSwgcDIsIHAzLCBpdGVtc1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZTEgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKCdmaWxlMScpXG4gICAgICBjb25zdCBlMiA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4oJ2ZpbGUyJywge3NwbGl0OiAncmlnaHQnfSlcbiAgICAgIGNvbnN0IGUzID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbignZmlsZTMnKVxuICAgICAgY29uc3QgZTQgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKCdmaWxlNCcsIHtzcGxpdDogJ2Rvd24nfSlcbiAgICAgIGNvbnN0IHBhbmVzID0gYXRvbS53b3Jrc3BhY2UuZ2V0Q2VudGVyKCkuZ2V0UGFuZXMoKVxuICAgICAgZXhwZWN0KHBhbmVzKS50b0hhdmVMZW5ndGgoMylcbiAgICAgIDtbcDEsIHAyLCBwM10gPSBwYW5lc1xuICAgICAgaXRlbXMgPSB7XG4gICAgICAgIHAxOiBwMS5nZXRJdGVtcygpLFxuICAgICAgICBwMjogcDIuZ2V0SXRlbXMoKSxcbiAgICAgICAgcDM6IHAzLmdldEl0ZW1zKClcbiAgICAgIH1cbiAgICAgIGV4cGVjdChpdGVtcykudG9FcXVhbCh7XG4gICAgICAgIHAxOiBbZTFdLFxuICAgICAgICBwMjogW2UyLCBlM10sXG4gICAgICAgIHAzOiBbZTRdXG4gICAgICB9KVxuXG4gICAgICBlbnN1cmVQYW5lTGF5b3V0KHtob3Jpem9udGFsOiBbaXRlbXMucDEsIHt2ZXJ0aWNhbDogW2l0ZW1zLnAyLCBpdGVtcy5wM119XX0pXG4gICAgICBleHBlY3QoYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlUGFuZSgpKS50b0JlKHAzKVxuICAgIH0pXG5cbiAgICBpdCgnW2FkamFjZW50IGlzIHBhbmVdOiBleGNoYW5nZSBwYW5lIGFuZCBhbmQgc3RheSBhY3RpdmUgcGFuZScsICgpID0+IHtcbiAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czpleGNoYW5nZS1wYW5lJylcbiAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtpdGVtcy5wMSwge3ZlcnRpY2FsOiBbaXRlbXMucDMsIGl0ZW1zLnAyXX1dfSlcbiAgICAgIGV4cGVjdChhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVQYW5lKCkpLnRvQmUocDIpXG5cbiAgICAgIGRpc3BhdGNoQ29tbWFuZCgndmltLW1vZGUtcGx1czpleGNoYW5nZS1wYW5lJylcbiAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtpdGVtcy5wMSwge3ZlcnRpY2FsOiBbaXRlbXMucDIsIGl0ZW1zLnAzXX1dfSlcbiAgICAgIGV4cGVjdChhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVQYW5lKCkpLnRvQmUocDMpXG4gICAgfSlcblxuICAgIGl0KCdbYWRqYWNlbnQgaXMgcGFuZUF4aXNdOiBEbyBub3RoaW5nIHdoZW4gYWRqYWNlbnQgd2FzIHBhbmVBeGlzJywgKCkgPT4ge1xuICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgZGlzcGF0Y2hDb21tYW5kKCd2aW0tbW9kZS1wbHVzOmV4Y2hhbmdlLXBhbmUnKVxuICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW2l0ZW1zLnAxLCB7dmVydGljYWw6IFtpdGVtcy5wMiwgaXRlbXMucDNdfV19KVxuICAgICAgZXhwZWN0KGF0b20ud29ya3NwYWNlLmdldEFjdGl2ZVBhbmUoKSkudG9CZShwMSlcbiAgICB9KVxuICB9KVxufSlcbiJdfQ==